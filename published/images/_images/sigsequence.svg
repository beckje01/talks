<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="714px" preserveAspectRatio="none" style="width:569px;height:714px;" version="1.1" viewBox="0 0 569 714" width="569px" zoomAndPan="magnify"><defs><filter height="300%" id="f70latus9j35" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#ADD8E6" filter="url(#f70latus9j35)" height="83.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="221" y="131.5625"/><rect fill="#ADD8E6" filter="url(#f70latus9j35)" height="47.5664" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="221" y="321.1914"/><rect fill="#ADD8E6" filter="url(#f70latus9j35)" height="47.5664" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="221" y="446.7227"/><rect fill="#ADD8E6" filter="url(#f70latus9j35)" height="47.5664" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="221" y="572.2539"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="93" x2="93" y1="38.2969" y2="674.0859"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="226" x2="226" y1="38.2969" y2="674.0859"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="357.5" x2="357.5" y1="38.2969" y2="674.0859"/><rect fill="#FEFECE" filter="url(#f70latus9j35)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="138" x="22" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="124" x="29" y="22.9951">Notification Server</text><rect fill="#FEFECE" filter="url(#f70latus9j35)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="138" x="22" y="673.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="124" x="29" y="693.0811">Notification Server</text><rect fill="#FEFECE" filter="url(#f70latus9j35)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="100" x="174" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="181" y="22.9951">External App</text><rect fill="#FEFECE" filter="url(#f70latus9j35)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="100" x="174" y="673.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="181" y="693.0811">External App</text><rect fill="#FEFECE" filter="url(#f70latus9j35)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="45" x="333.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="340.5" y="22.9951">auth</text><rect fill="#FEFECE" filter="url(#f70latus9j35)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="45" x="333.5" y="673.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="340.5" y="693.0811">auth</text><rect fill="#ADD8E6" filter="url(#f70latus9j35)" height="83.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="221" y="131.5625"/><rect fill="#ADD8E6" filter="url(#f70latus9j35)" height="47.5664" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="221" y="321.1914"/><rect fill="#ADD8E6" filter="url(#f70latus9j35)" height="47.5664" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="221" y="446.7227"/><rect fill="#ADD8E6" filter="url(#f70latus9j35)" height="47.5664" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="221" y="572.2539"/><polygon fill="#A80036" points="214,77.9961,224,81.9961,214,85.9961,218,81.9961" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="93" x2="220" y1="81.9961" y2="81.9961"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="100" y="76.9302">POST 1</text><path d="M8,53.2969 L8,93.2969 L84,93.2969 L84,63.2969 L74,53.2969 L8,53.2969 " fill="#FBFB77" filter="url(#f70latus9j35)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M74,53.2969 L74,63.2969 L84,63.2969 L74,53.2969 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="14" y="70.3638">Signed</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="55" x="14" y="85.4966">Key: 123</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="226" x2="273" y1="118.6953" y2="118.6953"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="273" x2="273" y1="118.6953" y2="131.6953"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="232" x2="273" y1="131.6953" y2="131.6953"/><polygon fill="#A80036" points="242,127.6953,232,131.6953,242,135.6953,238,131.6953" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="238" y="113.6294">Validate Request</text><polygon fill="#A80036" points="346,161.8281,356,165.8281,346,169.8281,350,165.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="231" x2="352" y1="165.8281" y2="165.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="57" x="238" y="160.7622">Get Keys</text><polygon fill="#A80036" points="237,211.0938,227,215.0938,237,219.0938,233,215.0938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="231" x2="357" y1="215.0938" y2="215.0938"/><path d="M363,178.8281 L363,248.8281 L557,248.8281 L557,188.8281 L547,178.8281 L363,178.8281 " fill="#FBFB77" filter="url(#f70latus9j35)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M547,178.8281 L547,188.8281 L557,188.8281 L547,178.8281 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="369" y="195.895">[</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="173" x="369" y="211.0278">{keyId:123, key:"adafd..."},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="373" y="226.1606">...</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="369" y="241.2935">]</text><polygon fill="#A80036" points="104,275.4922,94,279.4922,104,283.4922,100,279.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="98" x2="225" y1="279.4922" y2="279.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="110" y="274.4263">200 OK</text><polygon fill="#A80036" points="209,317.1914,219,321.1914,209,325.1914,213,321.1914" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="93" x2="215" y1="321.1914" y2="321.1914"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="100" y="316.1255">POST 2</text><path d="M8,292.4922 L8,332.4922 L84,332.4922 L84,302.4922 L74,292.4922 L8,292.4922 " fill="#FBFB77" filter="url(#f70latus9j35)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M74,292.4922 L74,302.4922 L84,302.4922 L74,292.4922 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="14" y="309.5591">Signed</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="55" x="14" y="324.6919">Key: 123</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="231" x2="273" y1="367.8906" y2="367.8906"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="273" x2="273" y1="367.8906" y2="380.8906"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="226" x2="273" y1="380.8906" y2="380.8906"/><polygon fill="#A80036" points="236,376.8906,226,380.8906,236,384.8906,232,380.8906" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="238" y="362.8247">Validate Request</text><polygon fill="#A80036" points="104,401.0234,94,405.0234,104,409.0234,100,405.0234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="98" x2="225" y1="405.0234" y2="405.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="110" y="399.9575">200 OK</text><polygon fill="#A80036" points="209,442.7227,219,446.7227,209,450.7227,213,446.7227" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="93" x2="215" y1="446.7227" y2="446.7227"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="100" y="441.6567">POST 3</text><path d="M8,418.0234 L8,458.0234 L84,458.0234 L84,428.0234 L74,418.0234 L8,418.0234 " fill="#FBFB77" filter="url(#f70latus9j35)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M74,418.0234 L74,428.0234 L84,428.0234 L74,418.0234 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="14" y="435.0903">Signed</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="55" x="14" y="450.2231">Key: 123</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="231" x2="273" y1="493.4219" y2="493.4219"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="273" x2="273" y1="493.4219" y2="506.4219"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="226" x2="273" y1="506.4219" y2="506.4219"/><polygon fill="#A80036" points="236,502.4219,226,506.4219,236,510.4219,232,506.4219" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="238" y="488.356">Validate Request</text><polygon fill="#A80036" points="104,526.5547,94,530.5547,104,534.5547,100,530.5547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="98" x2="225" y1="530.5547" y2="530.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="110" y="525.4888">200 OK</text><polygon fill="#A80036" points="209,568.2539,219,572.2539,209,576.2539,213,572.2539" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="93" x2="215" y1="572.2539" y2="572.2539"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="100" y="567.188">POST 4</text><path d="M8,543.5547 L8,583.5547 L84,583.5547 L84,553.5547 L74,543.5547 L8,543.5547 " fill="#FBFB77" filter="url(#f70latus9j35)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M74,543.5547 L74,553.5547 L84,553.5547 L74,543.5547 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="14" y="560.6216">Signed</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="55" x="14" y="575.7544">Key: 123</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="231" x2="273" y1="618.9531" y2="618.9531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="273" x2="273" y1="618.9531" y2="631.9531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="226" x2="273" y1="631.9531" y2="631.9531"/><polygon fill="#A80036" points="236,627.9531,226,631.9531,236,635.9531,232,631.9531" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="238" y="613.8872">Validate Request</text><polygon fill="#A80036" points="104,652.0859,94,656.0859,104,660.0859,100,656.0859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="98" x2="225" y1="656.0859" y2="656.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="110" y="651.02">200 OK</text><!--
@startuml

  participant noti as "Notification Server"
  participant external as "External App"

  noti -> external: POST 1
  note left: Signed\nKey: 123

  external -> external: Validate Request
  activate external #lightblue



  external -> auth: Get Keys
  auth - -> external
  note right: [\n{keyId:123, key:"adafd..."},\n ...\n]
  deactivate

  external - -> noti:200 OK


  noti -> external: POST 2
  note left: Signed\nKey: 123

  activate external #lightblue
  external -> external: Validate Request
  deactivate

  external - -> noti:200 OK


  noti -> external: POST 3
  note left: Signed\nKey: 123
  activate external #lightblue
  external -> external: Validate Request
  deactivate

  external - -> noti:200 OK

  noti -> external: POST 4
  note left: Signed\nKey: 123
  activate external #lightblue
  external -> external: Validate Request
  deactivate

  external - -> noti:200 OK



@enduml

PlantUML version 1.2018.13(Mon Nov 26 11:11:51 CST 2018)
(APACHE source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_202-b05
Operating System: Linux
OS Version: 5.1.1-2-MANJARO
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>